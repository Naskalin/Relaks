@using Relaks.Views.Pages.EntryFinancials.ViewModels
@using Relaks.Models.FinancialModels
@using Relaks.Database

@inject NavigationManager Navigation;
@inject AppDbContext Db;

<div class="d-flex align-items-center mb-3 gap-2">
    <div class="col-auto">
        <span class="h5">Счета</span>
    </div>
    <div class="col-auto">
        <button type="button" class="btn btn-outline-primary" @onclick="@HandleAddAccount">
            Счёт
            <i class="las la-plus-circle la-lg ms-1"></i>
        </button>
    </div>
    <div class="col-auto">
        <button type="button" class="btn btn-outline-primary" @onclick="@HandleAddCategory">
            Категория счёта
            <i class="las la-plus-circle la-lg ms-1"></i>
        </button>
    </div>
</div>

@code {

    [CascadingParameter]
    public FinancialsStore Store { get; set; } = null!;

    [Parameter]
    public EventCallback OnStateChanged { get; set; }

    private Task HandleAddCategory()
    {
        Store.SidebarState = FinancialsStore.SidebarEnum.AddAccountCategory;
        return OnStateChanged.InvokeAsync();
    }

    private Task HandleAddAccount()
    {
        Store.SidebarState = FinancialsStore.SidebarEnum.AddAccount;
        return OnStateChanged.InvokeAsync();
    }
}